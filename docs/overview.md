# Hydro-Evaluation System (HES)

## Introduction
There are many different types of users who need to evaluate hydrologic models and the forecasts generated by those models. The users range from researchers to operations to after-action evaluations. 

The envisioned hydro-evaluation system (HES) will consist of a core system that can be utilized directly or can be extended to meet specific use cases not covered by the core system.

## Use Cases
For development design and planning two primary use cases were identified.

* CIROH researcher (See @kvanwerkhoven Power Point)
    * As a CIROH researcher I want to...
* ISED after action evaluation (See @kvanwerkhoven Power Point)
    * As a member of ISED I want to...

## Existing Systems
There are several existing systems that provide some of the envision functionality.  The extent to which these systems overlap with what is envision for this project is unknown.

* WRES/WRDS
* ILAMB

## Vision
A core evaluation system that can be customized and utilized to meet the needs of a wide range of users.

* For a CIROH researcher wanting to compare one or more models to each other or some baseline model run, the HES could be stood-up and run in some relatively "default" mode that would, given all the correct inputs and configurations generate a standard output report that could be used to answer the question, "is the model formulation B better than model formulation A", for example.

* For ISED, the system could be stood-up and configured to automatically ingest and process some amount of data to be ready to use when and event happens and an after action evaluation is needed.

While these use cases are not the same, the premise is that from a technology perspective, there may be core components that are the same between he two use cases.  This is a good place to focus.

## Components
At the heart of an evaluation system is timeseries.  A fast efficient timeseries database will be the heart of the evaluation system.

### Data loading
* Code library
    * Data can come from many different sources and in many different formats.
        * A central data service such as something similar to WRDS for NWM data
        * NWIS for USGS gage data
        * AHPS
        * Flat files
        * NetCDF files
        * HDF5
    * The evaluation system must include the necessary tools to load data into the HES.
* Configurations (study definitions, recipes, etc.)
* Automated, scheduled or on demand as required per use case

### Data storage
* Timeseries (focus here)
* Geographic data (raster and vector)
* Thresholds
* Study configuration/definition
* Static data (USGS gage locations, NHD catchments, etc.)
* Hydrofabric data?

### Analysis
To steal the WRDS terminology:
* Pair
* Pool
* Statistics

### Access
Multiple levels of access ranging from raw SQL to a Python library (e.g., with Pandas) to a web service.
* SQL
* Python
* Web API
* Web application

## Infrastructure
100% containerized
